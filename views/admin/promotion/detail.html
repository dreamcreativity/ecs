<script type="text/javascript">
	var url_params = <%- JSON.stringify(url_params) %>
</script>


<div class="portlet">
	<div class="portlet-heading dark">
		<div class="portlet-title">
			<h4>Edit</h4>
		</div>
		<div class="clearfix"></div>
	</div>
	<div class="portlet-body">
		<form name="createForm" class="form-horizontal" role="form" ng-controller='PromotionDetail' novalidate>
			<div class="form-group">
				<label class="col-sm-3 control-label">Region</label>
				<div class="col-sm-4">
						<div class="clearfix">
							<div class="input-group">
							<select name="region" class="form-control" ng-model="promotion.region" required>
									<option ng-repeat="option in regionsList" value="{{option.name}}">{{option.name}}</option>
								</select>
								<span ng-show="createForm.region.$error.required" class="input-group-addon">Required</span>
								<span ng-show="!createForm.region.$error.required" class="input-group-addon"><i class="fa fa-check"></i></span>
							</div>
						</div>
				</div>
			</div>

			<div class="form-group">
				<label class="col-sm-3 control-label">Start Date</label>
				<div class="col-sm-4">
					<input type="date" class="form-control" name="startDate" ng-model="promotion.startDate" >
				</div>
			</div>

			<div class="form-group">
				<label class="col-sm-3 control-label">End Date</label>
				<div class="col-sm-4">
					<input type="date" class="form-control" name="endDate" ng-model="promotion.endDate" >
				</div>
			</div>

			<div class="form-group">
				<label class="col-sm-3 control-label">Rate</label>
				<div class="col-sm-3">
					<input type="number" step="0.1" class="form-control" name="rate" ng-model="promotion.rate" min=0 max=1 required placeholder="eg. 0.30">
					<p ng-show="createForm.rate.$invalid && !createForm.rate.$pristine" class="help-block text-danger">Rate is required</p>	
				</div>
			</div>

			<div class="form-actions">
				<div class="form-group">
					<div class="col-sm-offset-4 col-sm-3">
						<button type="button" class="btn btn-primary" ng-disabled="!createForm.$valid" ng-click="update()">Update</button>
						<button type="button" class="btn btn-default" onclick='location="/admin/"'>Cancel</button>
					</div>
				</div>
			</div>
		</form>
	</div>
</div>
