<script type="text/javascript">
var url_params = <%- JSON.stringify(url_params) %>
</script>

<div class="portlet">
	<div class="portlet-heading dark">
		<div class="portlet-title">
			<h4>Create New Student</h4>
		</div>
		<div class="clearfix"></div>
	</div>
	<div class="portlet-body">
		<form name="registerForm" class="form-horizontal" ng-controller='StudentCtrl' role="form" ng-submit="create(registerForm.$valid)">
			<div class="wizard">
				<ul class="wizard-steps">
					<li data-target="#step1" class="active">
						<span class="step">1</span>
						<span class="title">Student Information</span>
					</li>
					<!-- <li data-target="#step2">
						<span class="step">2</span>
						<span class="title">Program Registration</span>
					</li> -->
					<li data-target="#step3">
						<span class="step">2</span>
						<span class="title">Accommodation Information</span>
					</li>
					<li data-target="#step4">
						<span class="step">3</span>
						<span class="title">Terms & Conditions</span>
					</li>
				</ul>

				<hr class="separator" />

				<!-- Step 1 Student registration -->
				<div class="step-content">
					<div class="step-pane active" id="step1">
						<!-- <div class="form-group">
							<label class="col-sm-offset-4 col-sm-5"><strong>Student Detail</strong></label>
						</div> -->
						<div class="form-group">
							<label class="label label-xlg label-pending arrowed-right">Student Information</label>
						</div>


						<div class="form-group">
							<label class="col-sm-2  control-label">Reference ID : </label>
							<div class="col-sm-4">
								<input  type="text" class="form-control" name="referenceID" ng-model="student.referenceID">
							</div>

							<label class="col-sm-2 control-label">Gender : </label>
							<div class="col-sm-4">
								<div class="clearfix">
									<div class="input-group">
										<select name="gender" class="form-control" ng-model="student.gender" ng-init="student.gender = 'Male'">
											<option value="Male">Male</option>
											<option value="Female">Female</option> 
										</select>
									</div>
								</div>
							</div>
						</div>

						<div class="form-group">
							<label class="col-sm-2 control-label">First Name : </label>
							<div class="col-sm-4">
								<div class="clearfix">
									<div class="input-group">
										<input  type="text" class="form-control" name="firstname" ng-model="student.firstname" required>
										<span ng-show="!registerForm.firstname.$error.required" class="input-group-addon"><i class="fa fa-check"></i></span>
										<span ng-show="registerForm.firstname.$error.required" class="input-group-addon">Required</span>
									</div>
								</div>
							</div>
							<label class="col-sm-2 control-label">Last Name :  </label>
							<div class="col-sm-4">
								<div class="clearfix">
									<div class="input-group">
										<input  type="text" class="form-control" name="lastname" ng-model="student.lastname" required>
										<span ng-show="!registerForm.lastname.$error.required" class="input-group-addon"><i class="fa fa-check"></i></span>
										<span ng-show="registerForm.lastname.$error.required" class="input-group-addon">Required</span>
									</div>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">Region :  </label>
							<div class="col-sm-4">
								<div class="clearfix">
									<div class="input-group">
										<div class="input-group">
											<select name="region" class="form-control" ng-model="student.region" ng-change="getPromotionRate()" required>
												<option ng-repeat="option in regionsList" value="{{option.name}}">{{option.name}}</option>
											</select>
											<span ng-show="!registerForm.region.$error.required" class="input-group-addon"><i class="fa fa-check"></i></span>
											<span ng-show="registerForm.region.$error.required" class="input-group-addon">Required</span>
										</div>
									</div>
								</div>
							</div>
							<label class="col-sm-2 control-label">Citizenship : </label>
							<div class="col-sm-4">
								<div class="clearfix">
									<div class="input-group">
										<input type="text" class="form-control" name="citizenship" ng-model="student.citizenship" required>
										<span ng-show="registerForm.citizenship.$error.required" class="input-group-addon">Required</span>
										<span ng-show="!registerForm.citizenship.$error.required" class="input-group-addon"><i class="fa fa-check"></i></span>
									</div>
								</div>
							</div>
					
						</div>

						<div class="form-group">
							
							<label class="col-sm-2 control-label">Birth Date : </label>
							<div class="col-sm-4">
								<div class="clearfix">
									<div class="input-group">
										<input type='date' class="form-control" name="birthday" ng-model="student.birthday" required>
										<span ng-show="!registerForm.birthday.$error.required" class="input-group-addon"><i class="fa fa-check"></i></span>
										<span ng-show="registerForm.birthday.$error.required" class="input-group-addon">Required</span>
									</div>
								</div>
							</div>

							<label class="col-sm-2 control-label">Age : </label>
							<div class="col-sm-4">
								<div class="clearfix">
									<div class="input-group">
										<input type="number" class="form-control" name="age" ng-model="student.age" required>
										<span ng-show="registerForm.age.$error.required" class="input-group-addon">Required</span>
										<span ng-show="!registerForm.age.$error.required" class="input-group-addon"><i class="fa fa-check"></i></span>
									</div>
								</div>
							</div>



						</div>

						<div class="form-group">
							
							<label class="col-sm-2 control-label">Address : </label>
							<div class="col-sm-10">
								<div class="clearfix">
									<div class="input-group">
										<input type='text' class="form-control" name="address" ng-model="student.address" required>
										<span ng-show="!registerForm.address.$error.required" class="input-group-addon"><i class="fa fa-check"></i></span>
										<span ng-show="registerForm.address.$error.required" class="input-group-addon">Required</span>
									</div>
								</div>
							</div>	
							
						</div>

						<div class="form-group">
							<label class="col-sm-2 control-label">City : </label>
							<div class="col-sm-4">
								<div class="clearfix">
									<div class="input-group">
										<input type="text" class="form-control" name="city" ng-model="student.city" required>
										<span ng-show="registerForm.city.$error.required" class="input-group-addon">Required</span>
										<span ng-show="!registerForm.city.$error.required" class="input-group-addon"><i class="fa fa-check"></i></span>
									</div>
								</div>
							</div>
							<label class="col-sm-2 control-label">Province : </label>
							<div class="col-sm-4">
								<div class="clearfix">
									<div class="input-group">
										<input type='text' class="form-control" name="province" ng-model="student.province" required>
										<span ng-show="!registerForm.province.$error.required" class="input-group-addon"><i class="fa fa-check"></i></span>
										<span ng-show="registerForm.province.$error.required" class="input-group-addon">Required</span>
									</div>
								</div>
							</div>

							
						</div>
						<div class="form-group">
							
							<label class="col-sm-2 control-label">Postal Code : </label>
							<div class="col-sm-4">
								<div class="clearfix">
									<div class="input-group">
										<input type="text" class="form-control" name="postcode" ng-model="student.postcode" required>
										<span ng-show="registerForm.postcode.$error.required" class="input-group-addon">Required</span>
										<span ng-show="!registerForm.postcode.$error.required" class="input-group-addon"><i class="fa fa-check"></i></span>
									</div>
								</div>
							</div>

							<label class="col-sm-2 control-label">Country : </label>
							<div class="col-sm-4">
								<div class="clearfix">
									<div class="input-group">
										<input type="text" class="form-control" name="country" ng-model="student.country" required>
										<span ng-show="registerForm.country.$error.required" class="input-group-addon">Required</span>
										<span ng-show="!registerForm.country.$error.required" class="input-group-addon"><i class="fa fa-check"></i></span>
									</div>
								</div>
							</div>
							
						</div>

	

						<div class="form-group">
							<label class="col-sm-2 control-label">Telephone : </label>
							<div class="col-sm-4">
								<div class="clearfix">
									<div class="input-group">
										<input type='text' class="form-control" name="telephone" ng-model="student.telephone" required>
										<span ng-show="!registerForm.telephone.$error.required" class="input-group-addon"><i class="fa fa-check"></i></span>
										<span ng-show="registerForm.telephone.$error.required" class="input-group-addon">Required</span>
									</div>
								</div>
							</div>
							<label class="col-sm-2 control-label">Emergency call : </label>
							<div class="col-sm-4">
								<div class="clearfix">
									<div class="input-group">
										<input type="text" class="form-control" name="emergency" ng-model="student.emergency" required>
										<span ng-show="registerForm.emergency.$error.required" class="input-group-addon">Required</span>
										<span ng-show="!registerForm.emergency.$error.required" class="input-group-addon"><i class="fa fa-check"></i></span>
									</div>
								</div>
							</div>
						</div>

						<div class="form-group">
							
							<label class="col-sm-2 control-label">Fax : </label>
							<div class="col-sm-4">
								<div class="clearfix">
									<div class="input-group" style="width:100%">
										<input type="number" class="form-control" name="fax" ng-model="student.fax">
									</div>
								</div>
							</div>

							<label class="col-sm-2 control-label">Email : </label>
							<div class="col-sm-4">
								<div class="clearfix">
									<div class="input-group">
										<input type='text' class="form-control" name="email" ng-model="student.email" required>
										<span ng-show="!registerForm.email.$error.required" class="input-group-addon"><i class="fa fa-check"></i></span>
										<span ng-show="registerForm.email.$error.required" class="input-group-addon">Required</span>
									</div>
								</div>
							</div>
						</div>

						<hr class="separator">

						<div class="form-group">
							<label class="label label-xlg label-pending arrowed-right">English Level</label>
						</div>

						<div class="form-group">
									<label class="col-sm-2 control-label">Register Program : </label>
									<div class="col-sm-4">
										<div class="clearfix">
											<div class="input-group">
												<select class="form-control" name="programName" ng-model="student.programName">
													<option ng-repeat="option in courses" value="{{option.title}}">{{option.title}}</option>
												</select>
											</div>
										</div>
									</div>
									<label class="col-sm-2 control-label">Start Date: </label>
									<div class="col-sm-4">
										<div class="clearfix">
											<div class="input-group">
												<input type='date' class="form-control" name="programStartDate" ng-model="student.programStartDate">
											</div>
										</div>
									</div>
								</div>

						<div class="form-group">
							<label class="col-sm-2 control-label">English Level : </label>
							<div class="col-sm-4">
								<div class="clearfix">
									<div class="input-group">
										<select name="englishlevel" class="form-control full" ng-model="student.englishLevel" ng-init="student.englishLevel = 'beginner'">
											<option value="beginner">Beginner</option> 
											<option value="low_Intermediate">Low Intermediate</option>
											<option value="high_Intermediate">High Intermediate</option>
											<option value="advance">Advanced</option>
										</select>
									</div>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">TOEFL :  </label>
							<div class="col-sm-2">
								<div class="clearfix">
									<div class="input-group">
										<input type="number" class="form-control full" name="TOEFL" ng-model="student.TOEFL">
									</div>
								</div>
							</div>
						</div>
						<div class="form-group">
							<label class="col-sm-2 control-label">IELTS :  </label>
							<div class="col-sm-2">
								<div class="clearfix">
									<div class="input-group">
								<input type="number" step="0.5" class="form-control full" name="IELTS" ng-model="student.IELTS">
									</div>
								</div>
							</div>
						</div>

						<hr class="separator" />



						<div class="form-group">
							<label class="label label-xlg label-pending arrowed-right">Health Insurance</label>
						</div>


						<div class="form-group">
							<label class="col-sm-2 control-label">From Date:</label>
							<div class="col-sm-4">
								<div class="clearfix">
									<div class="input-group">
										<input type="date" class="form-control" name="healthInsuranceEndDate" ng-model="student.healthInsuranceEndDate">
									</div>
								</div>
							</div>
						</div> 

						<div class="form-group">
							<label class="col-sm-2 control-label">To Date:</label>
							<div class="col-sm-4">
								<div class="clearfix">
									<div class="input-group">
										<input type="date" class="form-control" name="healthInsuranceStartingDate" ng-model="student.healthInsuranceStartingDate">
									</div>
								</div>
							</div>

						</div>
					</div>


					<!-- Step 2 Program registration -->
					<div class="step-pane" id="step2" course-register>
					</div>

					<div class="step-pane" id="step3">

						<div class="form-group">

							<div class="well inverse">
								<h4>Create Home Stay Record here.... </h4>
								<label >
									<input class="tc" id="ishomestay" type="checkbox" class="form-control" name="ishomestay" value={{accommodation.isHomestay}} ng-model="accommodation.isHomestay">
									<span class="labels"> <strong>Are you in home stay</strong></span>
								</label>
							</div>
							
						</div>

						<div ng-show=accommodation.isHomestay>
							<div class="form-group ">
								<label class="label label-xlg label-pending arrowed-right">Flight Information : </label>
							</div>

							<div class="form-group">
								<div class="col-sm-5">
									<div class="form-group">
										<label class="heading">Arrival in Toronto</label>
									</div>
									<div class="form-group">
										<label>Date & Time</label>
										<input type="date" class="form-control" name="arrivalDateTime" ng-model="flightInfo.arrivalDateTime">
									</div>
									<div class="form-group">
										<label>Airline & Fligth No.</label>
										<input type="text" class="form-control" name="arrivalAirline" ng-model="flightInfo.arrivalAirline">
									</div>

									<label class="row" >
										<input type="checkbox" class="tc" name="isPickup" ng-model="flightInfo.isPickup"> 
										<span class="labels"> <strong>Airport Pick up Request</strong></span>
									</label>


								
								</div>

								<div class="col-sm-offset-2 col-sm-5">
								
									<div class="form-group">
										<label class="heading">Departure from Toronto</label>
									</div>
									<div class="form-group">
										<label>Date & Time</label>
										<input type="date" class="form-control" name="departureDateTime" ng-model="flightInfo.departureDateTime" >
									</div>
									<div class="form-group">
										<label>Airline & Fligth No.</label>
										<input type="text" class="form-control" name="departureAirline" ng-model="flightInfo.departureAirline" >
									</div>

									<label class="row" >
										<input type="checkbox" class="tc" name="isDropoff" ng-model="flightInfo.isDropoff">
										<span class="labels"> <strong>Airport Drop off Request</strong></span>
									</label>

								</div>
							</div>
							<hr class="separator" />
							<div class="form-group">
								<div class="col-sm-5">
									<!-- <div class="form-group">
										<label class="heading">Arrival in Toronto</label>
									</div> -->
									<div class="form-group">
										<label>Starting Date</label>
										<input type="date" class="form-control" name="startDate" ng-model="accommodation.startDate" >
									</div>
									<div class="form-group">
										<label>Finishing Date </label>
										<input type="date" class="form-control" name="endDate" ng-model="accommodation.endDate" >
									</div>
									<div class="form-group">
										<label>Departure date from Toronto</label>
										<input type="date" class="form-control" name="departDate" ng-model="accommodation.departureDateFromToronto" >
									</div>
									
								
								</div>
							</div>




							<div class="form-group ">
								<label class="label label-xlg label-pending arrowed-right">Please answer the following questions to assist us in finding an appropriate host family for you</label>
							</div>


							

							<div class="form-group">
								<label>
									<input type="checkbox" class="tc" name="isSmoke" ng-model="accommodation.isSmoke">
									<span class="labels"> <strong>Do you smoke ?</strong></span>
								</label>
							</div>

							<div class="form-group">
								<label>
									<input type="checkbox" class="tc" name="isWithSmoke" ng-model="accommodation.isWithSmoke">
									<span class="labels"> <strong>Do you live in a home with smoker ?</strong></span>
								</label>
							</div>

							<div class="form-group">
								<label>
									<input type="checkbox" class="tc" name="isWithPet" ng-model="accommodation.isWithPet">
									<span class="labels"> <strong>Do you live with pet ? </strong></span>
								</label>
							</div>

							<div class="form-group">
								<label>
									<input type="checkbox" class="tc" name="isWithKid" ng-model="accommodation.isWithKid">
									<span class="labels"> <strong>Do you live with small children ? </strong></span>
								</label>					
							</div>


							<div class="form-group">
								<label>What is your hobbies ? </label>
								<textarea class="form-control" name="hobbies" ng-model="accommodation.hobbies"></textarea>
							</div>

							<div class="form-group">
								<label>Peofession(What is your occupation ?) </label>
								<textarea class="form-control" name="occupation" ng-model="accommodation.occupation"></textarea>
							</div>

							<div class="form-group">
								<label>Additional Comments : </label>
						
									<textarea class="form-control" name="comments" ng-model="accommodation.comments"></textarea>
							
							</div>
							<div class="form-group">
								<label>Do you have any special diet or food preference ?</label>
					
									<textarea class="form-control" name="specialFood" ng-model="accommodation.specialFood"></textarea>
						
							</div>
							<div class="form-group">
								<label>Do you have any allergies or medical concerns ?</label>
						
									<textarea class="form-control" name="allergiesMedical" ng-model="accommodation.allergiesMedical"></textarea>
								
							</div>

							<div class="form-group ">
								<label class="label label-xlg label-pending arrowed-right">Extra Options (Please note that an extra charge will apply)</label>
							</div>



							<div class="form-group">
								<label>
									<input type="checkbox" class="tc" name="isPrivateBathroom" ng-model="accommodation.isPrivateBathroom">
									<span class="labels"> <strong>Private Bathroom(Subject to availability)</strong></span>
								</label>
							</div>


						</div> 
					</div>
					<div class="step-pane" id="step4">
						<div class="form-group">
							<label class="col-sm-offset-4 col-sm-8">
								<input class="tc" id="termcondition" type="checkbox" class="form-control" name="termcondition" onclick='handleClick();'>
								<span class="labels"> <strong>I agree with the Term condition</strong></span>
							</label>
						</div>
					</div>
				</div>

				<div class="form-actions">
					<div class="form-group">
						<div class="col-sm-offset-4 col-sm-9">
							<a href="/admin/student/all" class="btn btn-primary">Cancel</a>
							<button type="button" class="btn btn-prev"> <i class="fa fa-arrow-left"></i>Prev</button>
							<button type="button" id='reigster_submit' class="btn btn-next btn-primary" data-last="Finish" ng-disabled="registerForm.$invalid">Next<i class="fa fa-arrow-right icon-on-right"></i></button> 


							<!-- <button type="button"  id='reigster_submit' class="btn btn-next btn-primary" data-last="Finish" >Next<i class="fa fa-arrow-right icon-on-right"></i></button> --> 
						
							<input id="last_submit" type="submit" class="btn btn-primary" value="Submit" ng-hide="true">  
						</div>
					</div>
				</div>
			</div>
		</form>
	</div>
</div>


<script src="/assets/js/jquery.min.js"></script>
<script src="/assets/js/bootstrap.min.js"></script>

<style type="text/css">
textarea{
	height: 80px!important;
}
</style>

<!-- PAGE LEVEL PLUGINS JS -->
<!-- <script src="/assets/js/plugins/fuelux/wizard.min.js"></script> -->
<script src="/assets/js/plugins/fuelux/wizard.js"></script>


<script type="text/javascript">

$(document).on("keypress", "form", function(event) { 
	return event.keyCode != 13;
});

function handleClick(){
	var cb = $("#termcondition").is(":checked");
	if(cb){
		$("#reigster_submit").removeAttr('disabled');
	}
	else {
		$("#reigster_submit").attr('disabled', 'disabled');
	}
}

</script>

